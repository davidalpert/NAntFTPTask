<!DOCTYPE html PUBLIC "-//w3c//dtd xhtml 1.1 strict//en" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <!-- Documenting T:Sourceforge.NAnt.Ftp.Tasks.FTPTask-->
  <head>
    <meta http-equiv="Content-Language" content="en-ca" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="../style.css" />
    <title>&lt;ftp&gt; Task</title>
  </head>
  <body>
    <table width="100%" border="0" cellspacing="0" cellpadding="2" class="NavBar">
      <tr>
        <td class="NavBar-Cell">
          <a href="http://www.spinthemoose.com/net/ftptasks">
            <b>NAnt FTPTasks</b>
          </a>
          <img alt="-&gt;" src="../images/arrow.gif" />
          <a href="../index.html">Help</a>
          <img alt="-&gt;" src="../images/arrow.gif" />
          <a href="../tasks/index.html">Task Reference</a>
          <img alt="-&gt;" src="../images/arrow.gif" /> &lt;ftp&gt;</td>
        <td class="NavBar-Cell" align="right">
                        v1.0.39.85</td>
      </tr>
    </table>
    <h1>&lt;ftp&gt;</h1>
    <p class="topicstatus">[This is preliminary documentation and subject to change.]</p>
    <p> Transfer files over an FTP connection. </p>
    <p> When you use an <a href="../tasks/ftp.html">&lt;ftp&gt;</a> task task, you must specify connection details, either through including a <code>connection</code> element as a child of the ftp task or through specifying in the <b xmlns="">connection</b> attribute the <b xmlns="">id</b> of a previously declared <code>connection</code> element. </p>
    <p> The <b xmlns="">up-ascii</b>, <b xmlns="">up-binary</b>, <b xmlns="">down-ascii</b>, and <b xmlns="">down-binary</b> children have been depricated in favor of multiple <a href="../elements/Sourceforge.NAnt.Ftp.Types.TransferFileSet.html">TransferFileSet</a> elements that are included through any number of <code>Get</code> and <code>Put</code> elements. </p>
    <p> Transfer type (Ascii/Binary) is now specified as through the <b xmlns="">Type</b> attribute of the <code>Get</code> and <code>Put</code> elements. </p>
    <h4 xmlns="">Include Scanning</h4>
    <p>
      <code>Put</code> elements are a derived version of <a href="../elements/Sourceforge.NAnt.Ftp.Types.TransferFileSet.html">TransferFileSet</a> that scan local directories just as a <code>FileSet</code> does. </p>
    <p>
      <code>Get</code> elements are a derived version of <a href="../elements/Sourceforge.NAnt.Ftp.Types.TransferFileSet.html">TransferFileSet</a> that process include statements using the same algorithm as a <code>FileSet</code> only they scan <b xmlns="">remote</b> directories on the server. This allows you to use NAnt's <code>FileSet</code> pattern matching to selectively get a batch of files from a remote filesystem. </p>
    <p class="i2">
      <b>Note:</b> <code>Get</code> and <code>Put</code> children are processed in the order they are listed. All paths in these elements and their include statements are to the ftp node's localpath and remotepath attributes. </p>
    <h3>Parameters</h3>
    <div class="table">
      <table>
        <tr>
          <th>Attribute</th>
          <th style="text-align: center;">Type</th>
          <th>Description</th>
          <th style="text-align: center;">Required</th>
        </tr>
        <tr>
          <td valign="top">connection</td>
          <td style="text-align: center;">string</td>
          <td> The id of a Connection element that specifies the details for this connection. </td>
          <td style="text-align: center;">False</td>
        </tr>
        <tr>
          <td valign="top">connectmode</td>
          <td style="text-align: center;">string</td>
          <td> The mode to connect as. One of 'ACTIVE' or 'PASSIVE'. </td>
          <td style="text-align: center;">False</td>
        </tr>
        <tr>
          <td valign="top">createdirs</td>
          <td style="text-align: center;">bool</td>
          <td> If <b xmlns="">true</b> we create target directories as needed when saving files. If <b xmlns="">false</b>, attempting to access a directory that does not exist generates an exception. Default is <b xmlns="">true</b>.</td>
          <td style="text-align: center;">False</td>
        </tr>
        <tr>
          <td valign="top">debug</td>
          <td style="text-align: center;">bool</td>
          <td>If this is <b xmlns="">true</b>, establish the remote connection but do not transfer any files or modify local or remote directory structures. Instead, display a list of the files included in the transfer operation. This is useful for debugging include patterns on either local or remote filesystems.</td>
          <td style="text-align: center;">False</td>
        </tr>
        <tr>
          <td valign="top">localdir</td>
          <td style="text-align: center;">string</td>
          <td>The directory to use as a base path on the local filesystem.</td>
          <td style="text-align: center;">False</td>
        </tr>
        <tr>
          <td valign="top">port</td>
          <td style="text-align: center;">int</td>
          <td> The port number to connect to. Default is 21. </td>
          <td style="text-align: center;">False</td>
        </tr>
        <tr>
          <td valign="top">remotedir</td>
          <td style="text-align: center;">string</td>
          <td>The directory to use as a base path on the remote server. If this path is relative, it is relative to the connection's remotepath. Default is the default connection directory.</td>
          <td style="text-align: center;">False</td>
        </tr>
        <tr>
          <td valign="top">showdironconnect</td>
          <td style="text-align: center;">bool</td>
          <td>If this property is <b xmlns="">true</b>, a directory listing of the remotepath is sent to the logging output after the connection is established. Default is <b xmlns="">false</b>.</td>
          <td style="text-align: center;">False</td>
        </tr>
        <tr>
          <td valign="top">failonerror</td>
          <td style="text-align: center;">bool</td>
          <td>
          </td>
          <td style="text-align: center;">False</td>
        </tr>
        <tr>
          <td valign="top">if</td>
          <td style="text-align: center;">bool</td>
          <td>
          </td>
          <td style="text-align: center;">False</td>
        </tr>
        <tr>
          <td valign="top">unless</td>
          <td style="text-align: center;">bool</td>
          <td>
          </td>
          <td style="text-align: center;">False</td>
        </tr>
        <tr>
          <td valign="top">verbose</td>
          <td style="text-align: center;">bool</td>
          <td>
          </td>
          <td style="text-align: center;">False</td>
        </tr>
      </table>
    </div>
    <h3>Nested Elements:</h3>
    <!--Element-->
    <h4>
      <a id="connection">
      </a>
                    &lt;<a href="../types/connection.html">connection</a>&gt;
                </h4>
    <div class="nested-element">The network credentials used for authenticating the request with the Internet resource.<p /></div>
    <h4>&lt;/connection&gt;</h4>
    <!--Array-->
    <h4>
      <a id="put">
      </a>
                    &lt;<a href="../elements/Sourceforge.NAnt.Ftp.Types.TransferFileSet.html">put</a>&gt;
                </h4>
    <div class="nested-element">
      <p> A PutFileSet (derived from <a href="../elements/Sourceforge.NAnt.Ftp.Types.TransferFileSet.html">TransferFileSet</a>) that contains a list of <b xmlns="">Include</b> statements that are processed (scanned) against the local filesystem relative to the <b xmlns="">localpath</b> value. </p>
      <p> Multiple &lt;put&gt; elements may be included in an &lt;ftp&gt; task. They are processed with &lt;get&gt; elements in the order of inclusion. </p>
      <p />
    </div>
    <h4>&lt;/put&gt;</h4>
    <!--Array-->
    <h4>
      <a id="get">
      </a>
                    &lt;<a href="../elements/Sourceforge.NAnt.Ftp.Types.TransferFileSet.html">get</a>&gt;
                </h4>
    <div class="nested-element">
      <p> A Get (derived from <a href="../elements/Sourceforge.NAnt.Ftp.Types.TransferFileSet.html">TransferFileSet</a>) that contains a list of <b xmlns="">Include</b> statements that are processed (scanned) against the remote filesystem relative to the <b xmlns="">remotepath</b> value. </p>
      <p> Multiple &lt;get&gt; elements may be included in an &lt;ftp&gt; task. They are processed with &lt;put&gt; elements in the order of inclusion. </p>
      <p />
    </div>
    <h4>&lt;/get&gt;</h4>
    <!--Element-->
    <h4>
      <a id="up-ascii">
      </a>
                    &lt;up-ascii&gt;
                </h4>
    <div class="nested-element">
      <i>Deprecated.</i> Use &lt;put mode='ascii' /&gt; instead.<p /></div>
    <h4>&lt;/up-ascii&gt;</h4>
    <!--Element-->
    <h4>
      <a id="up-binary">
      </a>
                    &lt;up-binary&gt;
                </h4>
    <div class="nested-element">
      <i>Deprecated.</i> Use &lt;put mode='bin' /&gt; instead.<p /></div>
    <h4>&lt;/up-binary&gt;</h4>
    <!--Element-->
    <h4>
      <a id="down-ascii">
      </a>
                    &lt;down-ascii&gt;
                </h4>
    <div class="nested-element">
      <i>Deprecated.</i> Use &lt;get mode='ascii' /&gt; instead.<p /></div>
    <h4>&lt;/down-ascii&gt;</h4>
    <!--Element-->
    <h4>
      <a id="down-binary">
      </a>
                    &lt;down-binary&gt;
                </h4>
    <div class="nested-element">
      <i>Deprecated.</i> Use &lt;get mode='bin' /&gt; instead.<p /></div>
    <h4>&lt;/down-binary&gt;</h4>
    <h3>Examples</h3>
    <ul class="examples">
      <li>
        <p> Put a single file to a remote host. </p>
        <pre class="code">
&lt;connection id="myconn" server="upload.sourceforge.net" username="anonymous" password="david@spinthemoose.com" /&gt;
&lt;ftp  
    connection="myconn"
    remotepath="incoming"
    localpath="c:\dev\nantftptask\trunk"
    &gt;
    &lt;put type="ascii"&gt;
       &lt;include name="readme.txt" /&gt;
    &lt;/put&gt;
&lt;/ftp&gt;
    </pre>
      </li>
      <li>
        <p>Put a set of binary files to a .</p>
        <pre class="code">
  &lt;connection id="sourceforge 
          server="upload.sourceforge.net" 
          username="anonymous" 
          password="david@spinthemoose.com" /&gt;
  &lt;ftp connection="sourceforge" &gt;
      &lt;put type="bin" local-path="." remote-path="incoming" flatten="true"&gt;
          &lt;include name="${ziproot}*.zip"/&gt;
      &lt;/put&gt;
  &lt;/ftp&gt;
  </pre>
      </li>
      <li>
        <p> Debug a request to copy all php files from a remote directory. This will list the files included as the remote directories are scanned. </p>
        <pre class="code">
    
        &lt;connection id="myConn" server="${remotehost}" username="${username}" /&gt;

        &lt;ftp debug="true"
             connection="myConn"
             remotepath="${remote-dir}"
             showdironconnect="false" 
             &gt;
            &lt;get type="ascii" local-path="incoming" remote-path="." failonempty="true"&gt;
                &lt;include name="**\*.php" /&gt;
            &lt;/get&gt;
        &lt;/ftp&gt;
    </pre>
        <p class="i2">
          <b>Note:</b>  When a password is not supplied, the connection is established then logging output asks for password input from the console. Any text typed when answering this reques is masked thanks to <b xmlns="">Lim Bio Liong's</b> CodeProject article <i xmlns="">'.NET Console Password Input By Masking Keyed-In Characters'</i> (<a href="http://www.codeproject.com/dotnet/ConsolePasswordInput.asp">http://www.codeproject.com/dotnet/ConsolePasswordInput.asp</a> - accessed on 12/18/2004) </p>
      </li>
    </ul>
    <h3>Requirements</h3>
    <div style="margin-left: 20px;">
      <b>Assembly:</b> ftptask (1.0.39.85)
            </div>
  </body>
</html>